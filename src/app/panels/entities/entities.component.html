

<div class="form-group">
  <app-input-filter-add
    [filterCount]="countFiltered"
    [showAdd]="true"
    [showFilterCount]="true"
    (onFilter)="doFilter($event)"
    [title]="'Entity'"
    [titlePlural]="'Entities'"
    [showList]="true"
    [listValues]="entityTypesPlural"
    [listValue]="entityType"
    (onListChange)="doEntityTypeChange($event)"
    [showFlash]="true"
    [showPlay]="!this.showActiveOnly"
    [showPause]="!this.showActiveOnly"
    [showAll]="true"
    [radioChoice]="rdoActiveDormantAll"
    [countFlash]="countTasks"
    [countPause]="countDormant"
    [countPlay]="countActive"
    [countAll]="countAll"
    (onChoice)="doChangeRdo($event)"
    [titleFlash]="'Entities with active tasks'"
    [titlePlay]="'Active Entities'"
    [titleAll]="'All Entities'"
    [titlePause]="'Dormant Entities'"

    [captionFlash]="'With tasks'"
    [captionPlay]="'Active'"
    [captionAll]="'All'"
    [captionPause]="'Inactive'"

    [isNarrow]="isNarrow"
    [showInputFilter] = "entityType != entityTypesPlural.size-1"
  ></app-input-filter-add>
  <div [hidden]="entityType == entityTypesPlural.size - 1">
    <div
      [class.entities-full]="isFullScreen()"
      [class.entities-half]="isHalfScreen()"
      style="overflow-y: scroll; overflow-x: hidden; scrollbar-width: thin;"
    >
      <table
        class="table table-condensed table-bordered less-bottom"
        style="font-size: smaller;"
      >
        <thead class="info">
          <tr class="info">
            <th><small>Name</small></th>
            <th><small>Tasks</small></th>
            <th><small>Suffix</small></th>
          </tr>
        </thead>

        <tbody>
          <tr
            *ngFor="let e of entities | keyvalue"
            [hidden]="isHiddenMap.get(e.key)"
            [class.info]="e.value.isActive"
          >
            <td>
              <a href="#" (click) = "doEntityChoose(e.key)" >{{ e.value.name }} </a>
            </td>
            <td>{{ e.value.tasksCount }}</td>
            <td>{{ e.value.suffix }}</td>
          </tr>
        </tbody>
      </table>
      <small class="text-primary"
        >Total {{ countAll }}. Showing
        {{ (rdoActiveDormantAll == "all" ? "all " : "") + countFiltered }}
        {{
          rdoActiveDormantAll == "play"
            ? "active "
            : rdoActiveDormantAll == "pause"
            ? "dormant "
            : ""
        }}
        {{ entityTypeNamePlural.toLowerCase() }}
        {{ rdoActiveDormantAll == "flash" ? " with outstanding tasks" : "" }}
      </small>
    </div>
  </div>
  <app-input-date
    [title]="'System Date'"
    [showFlash]="false"
    [showCD]="false"
    [showPaperclip]="false"
    [inline]="true"
    [showTitle]="true"
    [disabled] = "true"
  >
  </app-input-date>

  <!-- <app-input-duo
        [isNarrow]="isNarrow"
        [doHideByFilter]="false"
        [typeLeft]="'date'"
        [titleLeft]="'System Date'"
        [disabledLeft] = "true"

        [typeRight]="'checkbox'"
        [titleRight]="'Active Only'"
        [valueRight] = "true"

        (onChangeRight)="doChangeShowActive($event)"
      >
      </app-input-duo> -->

  <div class="btn-group wide input-group-sm" style="vertical-align: middle;">
    <app-input-checkbox
        [title]="'Active Only'"
        [value] = "true"
        (onChange)="doChangeShowActive($event)"
        [inline] = "true"
    ></app-input-checkbox>
    <a href="#" class="btn primary-color" style="margin-left:5px;">
      <small>
        <span class="glyphicon glyphicon-log-out"></span>
        <span [hidden]="isNarrow" class="hidden-xs">&nbsp; Log Out</span
        >&nbsp;</small
      >
    </a>
    
  </div>
</div>

<!-- Modal content-->
<!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
<!-- <div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    
    <div class="modal-content">
      <div class="modal-header">
        
        <h4 class="modal-title">Settings</h4>
      </div>
      <div class="modal-body">
        <p>Custom settings...</p>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn primary-color" data-dismiss="modal">
          <small>
            <span class="glyphicon glyphicon-remove"></span>
            <span [hidden]="isNarrow" class="hidden-xs">&nbsp; Close</span
            >&nbsp;</small
          >
        </a>
        
      </div>
    </div>
  </div>
</div> -->

<!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
